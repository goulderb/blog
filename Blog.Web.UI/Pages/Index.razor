@page "/"
@using Blog.Web.API.Blog.V1.Model;
@using RestSharp
@inject RestClient _restClient

<PageTitle>Posts</PageTitle>

<RadzenDataGrid Data="@posts" TItem="Post">
    <Columns>
        <RadzenDataGridColumn TItem="Post" Property="PostID" Title="Post ID" />
        <RadzenDataGridColumn TItem="Post" Property="Subject" Title="Subject" />
        <RadzenDataGridColumn TItem="Post" Property="Body" Title="Body" />
        <RadzenDataGridColumn TItem="Post" Property="PostedDate" Title="Posted Date" FormatString="{0:u}" />
    </Columns>
</RadzenDataGrid>

@code {
    private Post[]? posts;

    protected override async Task OnInitializedAsync()
    {
        posts = await _restClient.GetJsonAsync<Post[]>("http://localhost:5249/api/v1/blog/post");
    }
}